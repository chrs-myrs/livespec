# CLAUDE.md Optimization Analysis

## The Problem

The current CLAUDE.md generated by setup is:
- **Too verbose** - Often 400+ lines with extensive boilerplate
- **Full of placeholders** - {VARIABLES} create parsing noise
- **Overly generic** - Tries to handle every possible project type
- **Cognitively heavy** - Model must parse through irrelevant sections

## Why This Matters

For optimal engineering performance:
1. **Focused context > Comprehensive context**
2. **Specific rules > Generic guidelines**
3. **Less parsing overhead = More problem-solving capacity**
4. **Clear, minimal instructions reduce errors**

## Proposed Solution: Minimal Adaptive CLAUDE.md

### Core Principles

1. **Start minimal** - Only essential project info
2. **Grow organically** - Add sections as needed
3. **Project-specific** - Only what's unique matters
4. **Action-oriented** - Every line should guide behavior

### New Minimal Template

```markdown
# [Project Name] - Claude Context

## Quick Reference
- **Type**: [web app/CLI/library]
- **Language**: [primary language]
- **Started**: [date]
- **Complexity**: [score]/10

## Project-Specific Rules

1. [Unique rule for THIS project]
2. [Another specific rule]
3. [Critical constraint or requirement]

## Current Focus
[What we're working on now - updated regularly]

## Key Decisions
- [Major decision]: [Brief rationale]
- [Another decision]: [Why]

## Don't Forget
- [Critical thing specific to this project]
- [Important pattern to follow]
```

### Size Comparison

**Current approach**: 400-500 lines with placeholders
**New approach**: 20-30 lines of focused content

### Growth Strategy

Instead of front-loading everything, add sections only when needed:

1. **When adding AI/ML components**:
   Add a brief "AI Considerations" section

2. **When integration gets complex**:
   Add "Integration Patterns" with specific rules

3. **When team grows**:
   Add "Team Conventions" section

### Benefits

1. **Faster parsing** - Model processes context quickly
2. **Better focus** - Only relevant information present
3. **Less maintenance** - Fewer sections to keep updated
4. **Clearer guidance** - Specific > generic every time
5. **Adaptive** - Grows with project needs

## Implementation Recommendations

### 1. Revise Setup Prompt

Instead of comprehensive template generation:
- Ask 3-5 key questions only
- Generate minimal CLAUDE.md
- Suggest additions based on project type
- Provide examples of when to expand

### 2. Progressive Enhancement

Create supplementary prompts:
- `add-ai-context.md` - When adding AI components
- `add-team-rules.md` - When team expands
- `add-integration-rules.md` - When integrations multiply

### 3. Regular Pruning

Add to maintenance workflow:
- Review CLAUDE.md quarterly
- Remove outdated sections
- Consolidate redundant rules
- Keep it under 100 lines

## Example: Minimal CLAUDE.md for Web App

```markdown
# E-Commerce Platform - Claude Context

## Quick Reference
- **Type**: Next.js web app with Node.js API
- **Language**: TypeScript
- **Started**: 2024-01-15
- **Complexity**: 7/10 (payment integration)

## Project-Specific Rules

1. All payment code requires security review
2. Use feature flags for new functionality
3. Mobile-first CSS (min-width breakpoints)
4. API responses follow JSON:API spec

## Current Focus
Implementing checkout flow with Stripe integration.
See: reqs/progress-report.md for detailed status.

## Key Decisions
- **Stripe**: Chose over PayPal for better API
- **Feature flags**: Using LaunchDarkly
- **Monorepo**: Better code sharing than separate repos

## Don't Forget
- PCI compliance for payment pages
- Run E2E tests before deploying checkout changes
- Update API docs when adding endpoints
```

## Conclusion

A concise, focused CLAUDE.md that contains only project-specific, actionable information will significantly improve engineering effectiveness compared to a comprehensive but generic template filled with placeholders.